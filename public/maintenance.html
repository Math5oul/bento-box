<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Central de Manuten√ß√£o - Bento Box</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 20px;
        min-height: 100vh;
      }

      .container {
        max-width: 1400px;
        margin: 0 auto;
      }

      h1 {
        color: white;
        text-align: center;
        margin-bottom: 10px;
        font-size: 2.5em;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .subtitle {
        color: rgba(255, 255, 255, 0.9);
        text-align: center;
        margin-bottom: 30px;
        font-size: 1.1em;
      }

      .nav-links {
        text-align: center;
        margin-bottom: 20px;
      }

      .nav-links a {
        color: white;
        text-decoration: none;
        margin: 0 15px;
        padding: 10px 20px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 20px;
        transition: all 0.3s;
      }

      .nav-links a:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
      }

      .section {
        background: white;
        border-radius: 12px;
        padding: 30px;
        margin-bottom: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      }

      .section h2 {
        color: #667eea;
        margin-bottom: 20px;
        font-size: 1.8em;
        border-bottom: 3px solid #667eea;
        padding-bottom: 10px;
      }

      .fillers-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .filler-card {
        border: 2px solid #e0e0e0;
        border-radius: 8px;
        padding: 20px;
        background: #f9f9f9;
        transition: all 0.3s;
      }

      .filler-card:hover {
        border-color: #667eea;
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        transform: translateY(-2px);
      }

      .filler-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
      }

      .filler-type {
        display: inline-block;
        padding: 5px 15px;
        border-radius: 20px;
        font-size: 0.85em;
        font-weight: 600;
        text-transform: uppercase;
      }

      .type-text {
        background: #e3f2fd;
        color: #1976d2;
      }

      .type-image {
        background: #f3e5f5;
        color: #7b1fa2;
      }

      .type-video {
        background: #fff3e0;
        color: #f57c00;
      }

      .filler-id {
        font-size: 0.8em;
        color: #999;
      }

      .filler-content {
        margin: 15px 0;
        padding: 15px;
        background: white;
        border-radius: 6px;
        border-left: 4px solid #667eea;
      }

      .filler-content p {
        margin: 8px 0;
        color: #555;
        font-size: 0.95em;
      }

      .filler-content strong {
        color: #333;
      }

      .filler-meta {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 10px;
        margin: 10px 0;
        font-size: 0.9em;
        color: #666;
      }

      .filler-actions {
        display: flex;
        gap: 10px;
        margin-top: 15px;
      }

      .btn {
        flex: 1;
        padding: 10px;
        border: none;
        border-radius: 6px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 0.9em;
      }

      .btn-edit {
        background: #4caf50;
        color: white;
      }

      .btn-edit:hover {
        background: #45a049;
        transform: translateY(-2px);
      }

      .btn-delete {
        background: #f44336;
        color: white;
      }

      .btn-delete:hover {
        background: #da190b;
        transform: translateY(-2px);
      }

      .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 12px 30px;
        border: none;
        border-radius: 6px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
      }

      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
      }

      .empty-state {
        text-align: center;
        padding: 60px 20px;
        color: #999;
      }

      .empty-state svg {
        width: 100px;
        height: 100px;
        margin-bottom: 20px;
        opacity: 0.3;
      }

      .loading {
        text-align: center;
        padding: 40px;
        color: #667eea;
        font-size: 1.2em;
      }

      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.7);
        z-index: 1000;
        align-items: center;
        justify-content: center;
      }

      .modal.active {
        display: flex;
      }

      .modal-content {
        background: white;
        border-radius: 12px;
        padding: 30px;
        max-width: 500px;
        width: 90%;
        max-height: 80vh;
        overflow-y: auto;
      }

      .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .modal-header h3 {
        color: #667eea;
        font-size: 1.5em;
      }

      .close-btn {
        background: none;
        border: none;
        font-size: 1.5em;
        cursor: pointer;
        color: #999;
      }

      .close-btn:hover {
        color: #333;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        color: #555;
        font-weight: 600;
      }

      .form-group input,
      .form-group textarea,
      .form-group select {
        width: 100%;
        padding: 10px;
        border: 2px solid #e0e0e0;
        border-radius: 6px;
        font-size: 14px;
        font-family: inherit;
      }

      .form-group textarea {
        resize: vertical;
        min-height: 100px;
      }

      .form-group input:focus,
      .form-group textarea:focus,
      .form-group select:focus {
        outline: none;
        border-color: #667eea;
      }

      .stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .stat-card {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 20px;
        border-radius: 12px;
        text-align: center;
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
      }

      .stat-value {
        font-size: 2.5em;
        font-weight: bold;
        margin-bottom: 5px;
      }

      .stat-label {
        font-size: 0.9em;
        opacity: 0.9;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üõ†Ô∏è Central de Manuten√ß√£o</h1>
      <p class="subtitle">Gerencie os Fillers do sistema</p>

      <div class="nav-links">
        <a href="/">‚Üê Voltar ao App</a>
        <a href="/docs.html">üìö Documenta√ß√£o</a>
        <a href="/maintenance-hub.html">üß™ Central de Manuten√ß√£o</a>
      </div>

      <!-- Estat√≠sticas -->
      <div class="stats">
        <div class="stat-card">
          <div class="stat-value" id="totalFillers">0</div>
          <div class="stat-label">Total de Fillers</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="textFillers">0</div>
          <div class="stat-label">Fillers de Texto</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="imageFillers">0</div>
          <div class="stat-label">Fillers de Imagem</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="videoFillers">0</div>
          <div class="stat-label">Fillers de V√≠deo</div>
        </div>
      </div>

      <!-- Se√ß√£o de Fillers -->
      <div class="section">
        <div
          style="
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
          "
        >
          <h2 style="margin: 0">üì¶ Fillers Cadastrados</h2>
          <div style="display: flex; gap: 10px">
            <button class="btn-primary" onclick="openCreateModal()">‚ûï Novo Filler</button>
            <button class="btn-primary" onclick="loadFillers()">üîÑ Recarregar</button>
          </div>
        </div>

        <div id="fillersContainer" class="loading">Carregando fillers...</div>
      </div>
    </div>

    <!-- Modal de Edi√ß√£o -->
    <div id="editModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>‚úèÔ∏è Editar Filler</h3>
          <button class="close-btn" onclick="closeEditModal()">&times;</button>
        </div>

        <form id="editForm" onsubmit="saveFiller(event)">
          <input type="hidden" id="editFillerId" />

          <div class="form-group">
            <label>Tipo</label>
            <select id="editType" onchange="updateEditForm()" required>
              <option value="text">Texto</option>
              <option value="image">Imagem</option>
              <option value="video">V√≠deo</option>
            </select>
          </div>

          <div id="textFields" style="display: none">
            <div class="form-group">
              <label>Texto (HTML permitido)</label>
              <textarea id="editText" rows="4"></textarea>
            </div>
            <div class="form-group">
              <label>Cor de Fundo</label>
              <div style="display: flex; gap: 10px; align-items: center">
                <div style="position: relative; display: inline-block">
                  <input
                    type="color"
                    id="editBackgroundColor"
                    value="#ffffff"
                    style="
                      width: 60px;
                      height: 40px;
                      cursor: pointer;
                      border: 2px solid #ddd;
                      border-radius: 6px;
                    "
                  />
                </div>
                <input
                  type="text"
                  id="editBackgroundColorText"
                  value="#ffffff"
                  style="
                    flex: 1;
                    padding: 10px;
                    border: 2px solid #e0e0e0;
                    border-radius: 6px;
                    font-family: monospace;
                    font-weight: bold;
                  "
                  readonly
                />
                <div
                  id="editColorPreview"
                  style="
                    width: 40px;
                    height: 40px;
                    border: 2px solid #ddd;
                    border-radius: 6px;
                    background: #ffffff;
                  "
                ></div>
              </div>
            </div>
          </div>

          <div id="imageFields" style="display: none">
            <div class="form-group">
              <label>URL da Imagem</label>
              <input type="text" id="editImageUrl" />
            </div>
            <div class="form-group">
              <label>Texto Alternativo</label>
              <input type="text" id="editImageAlt" />
            </div>
          </div>

          <div id="videoFields" style="display: none">
            <div class="form-group">
              <label>URL do V√≠deo</label>
              <input type="text" id="editVideoUrl" />
            </div>
          </div>

          <div class="form-group">
            <label>Formato</label>
            <select id="editFormat" required>
              <option value="1x1">1x1 (Quadrado)</option>
              <option value="1x2">1x2 (Horizontal)</option>
              <option value="2x1">2x1 (Vertical)</option>
              <option value="2x2">2x2 (Grande)</option>
            </select>
          </div>

          <div class="form-group">
            <label>
              <input type="checkbox" id="editActive" style="width: auto; margin-right: 5px" />
              Ativo
            </label>
          </div>

          <button type="submit" class="btn-primary" style="width: 100%; margin-top: 10px">
            üíæ Salvar Altera√ß√µes
          </button>
        </form>
      </div>
    </div>

    <!-- Modal de Cria√ß√£o -->
    <div id="createModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>‚ûï Criar Novo Filler</h3>
          <button class="close-btn" onclick="closeCreateModal()">&times;</button>
        </div>

        <form id="createForm" onsubmit="createFiller(event)">
          <div class="form-group">
            <label>Tipo *</label>
            <select id="createType" onchange="updateCreateForm()" required>
              <option value="">Selecione um tipo</option>
              <option value="text">üìù Texto</option>
              <option value="image">üñºÔ∏è Imagem</option>
              <option value="video">üé• V√≠deo</option>
            </select>
          </div>

          <div id="createTextFields" style="display: none">
            <div class="form-group">
              <label>Texto (HTML permitido) *</label>
              <textarea
                id="createText"
                rows="4"
                placeholder="Digite o texto do filler..."
              ></textarea>
            </div>
            <div class="form-group">
              <label>Cor de Fundo *</label>
              <div style="display: flex; gap: 10px; align-items: center">
                <div style="position: relative; display: inline-block">
                  <input
                    type="color"
                    id="createBackgroundColor"
                    value="#ffffff"
                    style="
                      width: 60px;
                      height: 40px;
                      cursor: pointer;
                      border: 2px solid #ddd;
                      border-radius: 6px;
                    "
                  />
                </div>
                <input
                  type="text"
                  id="createBackgroundColorText"
                  value="#ffffff"
                  style="
                    flex: 1;
                    padding: 10px;
                    border: 2px solid #e0e0e0;
                    border-radius: 6px;
                    font-family: monospace;
                    font-weight: bold;
                  "
                  readonly
                />
                <div
                  id="createColorPreview"
                  style="
                    width: 40px;
                    height: 40px;
                    border: 2px solid #ddd;
                    border-radius: 6px;
                    background: #ffffff;
                  "
                ></div>
              </div>
            </div>
          </div>

          <div id="createImageFields" style="display: none">
            <div class="form-group">
              <label>URL da Imagem *</label>
              <input type="text" id="createImageUrl" placeholder="https://exemplo.com/imagem.jpg" />
            </div>
            <div class="form-group">
              <label>Texto Alternativo</label>
              <input type="text" id="createImageAlt" placeholder="Descri√ß√£o da imagem" />
            </div>
          </div>

          <div id="createVideoFields" style="display: none">
            <div class="form-group">
              <label>URL do V√≠deo *</label>
              <input type="text" id="createVideoUrl" placeholder="https://exemplo.com/video.mp4" />
            </div>
          </div>

          <div class="form-group">
            <label>Formato *</label>
            <select id="createFormat" required>
              <option value="1x1">1x1 (Quadrado)</option>
              <option value="1x2">1x2 (Horizontal)</option>
              <option value="2x1">2x1 (Vertical)</option>
              <option value="2x2">2x2 (Grande)</option>
            </select>
          </div>

          <div class="form-group">
            <label>
              <input
                type="checkbox"
                id="createActive"
                checked
                style="width: auto; margin-right: 5px"
              />
              Ativo
            </label>
          </div>

          <button type="submit" class="btn-primary" style="width: 100%; margin-top: 10px">
            ‚ú® Criar Filler
          </button>
        </form>
      </div>
    </div>

    <script>
      const API_URL = 'http://localhost:3001/api';

      // Carrega os fillers ao iniciar
      document.addEventListener('DOMContentLoaded', () => {
        loadFillers();

        // Sincroniza os color pickers com os campos de texto e preview
        const editColorPicker = document.getElementById('editBackgroundColor');
        const editColorText = document.getElementById('editBackgroundColorText');
        const editColorPreview = document.getElementById('editColorPreview');
        const createColorPicker = document.getElementById('createBackgroundColor');
        const createColorText = document.getElementById('createBackgroundColorText');
        const createColorPreview = document.getElementById('createColorPreview');

        editColorPicker.addEventListener('input', e => {
          const color = e.target.value.toUpperCase();
          editColorText.value = color;
          editColorPreview.style.background = color;
        });

        createColorPicker.addEventListener('input', e => {
          const color = e.target.value.toUpperCase();
          createColorText.value = color;
          createColorPreview.style.background = color;
        });
      });

      async function loadFillers() {
        const container = document.getElementById('fillersContainer');
        container.innerHTML = '<div class="loading">Carregando fillers...</div>';

        try {
          const response = await fetch(`${API_URL}/fillers`);
          const fillers = await response.json();

          console.log('Fillers carregados:', fillers);

          // Atualiza estat√≠sticas
          document.getElementById('totalFillers').textContent = fillers.length;
          document.getElementById('textFillers').textContent = fillers.filter(
            f => f.type === 'text'
          ).length;
          document.getElementById('imageFillers').textContent = fillers.filter(
            f => f.type === 'image'
          ).length;
          document.getElementById('videoFillers').textContent = fillers.filter(
            f => f.type === 'video'
          ).length;

          if (fillers.length === 0) {
            container.innerHTML = `
              <div class="empty-state">
                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4" />
                </svg>
                <h3>Nenhum Filler encontrado</h3>
                <p>Crie fillers atrav√©s do aplicativo principal</p>
              </div>
            `;
            return;
          }

          container.innerHTML = `<div class="fillers-grid">${fillers.map(renderFillerCard).join('')}</div>`;
        } catch (error) {
          console.error('Erro ao carregar fillers:', error);
          container.innerHTML = `
            <div class="empty-state">
              <h3 style="color: #f44336;">‚ùå Erro ao carregar fillers</h3>
              <p>${error.message}</p>
            </div>
          `;
        }
      }

      function renderFillerCard(filler) {
        const typeClass = `type-${filler.type}`;
        const typeEmoji = filler.type === 'text' ? 'üìù' : filler.type === 'image' ? 'üñºÔ∏è' : 'üé•';

        let contentHtml = '';
        if (filler.type === 'text') {
          const bgColor = filler.content.backgroundColor || '#ffffff';
          contentHtml = `
            <p><strong>Texto:</strong> ${filler.content.text ? filler.content.text.substring(0, 100) + '...' : 'Vazio'}</p>
            <p><strong>Cor de Fundo:</strong> <span style="display: inline-block; width: 20px; height: 20px; background: ${bgColor}; border: 1px solid #ccc; vertical-align: middle; border-radius: 3px;"></span> ${bgColor}</p>
          `;
        } else if (filler.type === 'image') {
          contentHtml = `
            <p><strong>URL:</strong> ${filler.content.url || 'N√£o definido'}</p>
            <p><strong>Alt:</strong> ${filler.content.alt || 'Sem texto alternativo'}</p>
          `;
        } else if (filler.type === 'video') {
          contentHtml = `<p><strong>URL:</strong> ${filler.content.url || 'N√£o definido'}</p>`;
        }

        const [colSpan, rowSpan] = (filler.format || '1x1').split('x');

        return `
          <div class="filler-card">
            <div class="filler-header">
              <span class="filler-type ${typeClass}">${typeEmoji} ${filler.type}</span>
              <span class="filler-id">#${filler._id.substring(0, 8)}</span>
            </div>

            <div class="filler-content">
              ${contentHtml}
            </div>

            <div class="filler-meta">
              <div><strong>Formato:</strong> ${filler.format || '1x1'}</div>
              <div><strong>Status:</strong> ${filler.active ? '‚úÖ Ativo' : '‚ùå Inativo'}</div>
              <div><strong>Posi√ß√£o:</strong> (${filler.gridPosition?.row || 0}, ${filler.gridPosition?.col || 0})</div>
              <div><strong>Tamanho:</strong> ${rowSpan}√ó${colSpan}</div>
            </div>

            <div class="filler-actions">
              <button class="btn btn-edit" onclick='editFiller(${JSON.stringify(filler)})'>‚úèÔ∏è Editar</button>
              <button class="btn btn-delete" onclick="deleteFiller('${filler._id}')">üóëÔ∏è Deletar</button>
            </div>
          </div>
        `;
      }

      function editFiller(filler) {
        document.getElementById('editFillerId').value = filler._id;
        document.getElementById('editType').value = filler.type;
        document.getElementById('editFormat').value = filler.format || '1x1';
        document.getElementById('editActive').checked = filler.active;

        // Preenche campos espec√≠ficos
        const bgColor = filler.content.backgroundColor || '#ffffff';
        document.getElementById('editText').value = filler.content.text || '';
        document.getElementById('editBackgroundColor').value = bgColor;
        document.getElementById('editBackgroundColorText').value = bgColor.toUpperCase();
        document.getElementById('editColorPreview').style.background = bgColor;
        document.getElementById('editImageUrl').value = filler.content.url || '';
        document.getElementById('editImageAlt').value = filler.content.alt || '';
        document.getElementById('editVideoUrl').value = filler.content.url || '';

        updateEditForm();
        document.getElementById('editModal').classList.add('active');
      }

      function updateEditForm() {
        const type = document.getElementById('editType').value;

        document.getElementById('textFields').style.display = type === 'text' ? 'block' : 'none';
        document.getElementById('imageFields').style.display = type === 'image' ? 'block' : 'none';
        document.getElementById('videoFields').style.display = type === 'video' ? 'block' : 'none';
      }

      function closeEditModal() {
        document.getElementById('editModal').classList.remove('active');
      }

      function openCreateModal() {
        // Reset form
        document.getElementById('createForm').reset();
        document.getElementById('createType').value = '';
        updateCreateForm();
        document.getElementById('createModal').classList.add('active');
      }

      function closeCreateModal() {
        document.getElementById('createModal').classList.remove('active');
      }

      function updateCreateForm() {
        const type = document.getElementById('createType').value;

        document.getElementById('createTextFields').style.display =
          type === 'text' ? 'block' : 'none';
        document.getElementById('createImageFields').style.display =
          type === 'image' ? 'block' : 'none';
        document.getElementById('createVideoFields').style.display =
          type === 'video' ? 'block' : 'none';
      }

      async function createFiller(event) {
        event.preventDefault();

        const type = document.getElementById('createType').value;
        const format = document.getElementById('createFormat').value;
        const active = document.getElementById('createActive').checked;

        if (!type) {
          alert('‚ö†Ô∏è Selecione um tipo de filler!');
          return;
        }

        let content = {};
        if (type === 'text') {
          const text = document.getElementById('createText').value;
          if (!text) {
            alert('‚ö†Ô∏è O campo de texto √© obrigat√≥rio!');
            return;
          }
          content.text = text;
          content.backgroundColor = document.getElementById('createBackgroundColor').value;
        } else if (type === 'image') {
          const url = document.getElementById('createImageUrl').value;
          if (!url) {
            alert('‚ö†Ô∏è A URL da imagem √© obrigat√≥ria!');
            return;
          }
          content.url = url;
          content.alt = document.getElementById('createImageAlt').value || 'Imagem do filler';
        } else if (type === 'video') {
          const url = document.getElementById('createVideoUrl').value;
          if (!url) {
            alert('‚ö†Ô∏è A URL do v√≠deo √© obrigat√≥ria!');
            return;
          }
          content.url = url;
        }

        const newFiller = {
          type,
          content,
          format,
          active,
          gridPosition: { row: 0, col: 0, rowSpan: 1, colSpan: 1 },
        };

        try {
          const response = await fetch(`${API_URL}/fillers`, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(newFiller),
          });

          if (!response.ok) {
            const error = await response.json();
            throw new Error(error.message || 'Erro ao criar filler');
          }

          const created = await response.json();
          console.log('Filler criado:', created);

          alert('‚úÖ Filler criado com sucesso!');
          closeCreateModal();
          loadFillers();
        } catch (error) {
          console.error('Erro ao criar:', error);
          alert('‚ùå Erro ao criar filler: ' + error.message);
        }
      }

      async function saveFiller(event) {
        event.preventDefault();

        const fillerId = document.getElementById('editFillerId').value;
        const type = document.getElementById('editType').value;
        const format = document.getElementById('editFormat').value;
        const active = document.getElementById('editActive').checked;

        let content = {};
        if (type === 'text') {
          content.text = document.getElementById('editText').value;
          content.backgroundColor = document.getElementById('editBackgroundColor').value;
        } else if (type === 'image') {
          content.url = document.getElementById('editImageUrl').value;
          content.alt = document.getElementById('editImageAlt').value;
        } else if (type === 'video') {
          content.url = document.getElementById('editVideoUrl').value;
        }

        const updateData = {
          type,
          content,
          format,
          active,
        };

        try {
          const response = await fetch(`${API_URL}/fillers/${fillerId}`, {
            method: 'PUT',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify(updateData),
          });

          if (!response.ok) {
            throw new Error('Erro ao atualizar filler');
          }

          alert('‚úÖ Filler atualizado com sucesso!');
          closeEditModal();
          loadFillers();
        } catch (error) {
          console.error('Erro ao salvar:', error);
          alert('‚ùå Erro ao atualizar filler: ' + error.message);
        }
      }

      async function deleteFiller(fillerId) {
        if (!confirm('Tem certeza que deseja deletar este filler?')) {
          return;
        }

        try {
          const response = await fetch(`${API_URL}/fillers/${fillerId}`, {
            method: 'DELETE',
          });

          if (!response.ok) {
            throw new Error('Erro ao deletar filler');
          }

          alert('‚úÖ Filler deletado com sucesso!');
          loadFillers();
        } catch (error) {
          console.error('Erro ao deletar:', error);
          alert('‚ùå Erro ao deletar filler: ' + error.message);
        }
      }
    </script>
  </body>
</html>
