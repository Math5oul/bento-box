<app-admin-header></app-admin-header>

<div class="fillers-management-container">
  <div class="page-title">
    <h1>ðŸ›¸ Gerenciamento de Fillers</h1>
    <p class="subtitle">Gerencie os Fillers do sistema</p>
  </div>

  <!-- EstatÃ­sticas -->
  <app-filler-stats [stats]="stats"></app-filler-stats>

  <!-- BotÃ£o de criar filler -->
  <div class="actions-container">
    <button class="create-button" (click)="openCreateModal()">âž• Criar Novo Filler</button>
  </div>

  <!-- Filtros -->
  <app-filler-filters
    [categories]="categories"
    [filterCategory]="filterCategory"
    [filterType]="filterType"
    [filteredCount]="filteredFillers.length"
    [totalCount]="fillers.length"
    (filterCategoryChange)="filterCategory = $event"
    (filterTypeChange)="filterType = $event"
  ></app-filler-filters>

  <!-- Lista de Fillers -->
  <app-filler-list
    [fillers]="filteredFillers"
    [loading]="loading"
    [totalFillers]="fillers.length"
    [getCategoryEmojisCallback]="getCategoryEmojis.bind(this)"
    (fillerEdit)="openEditModal($event)"
    (fillerDelete)="deleteFiller($event._id)"
  ></app-filler-list>
</div>

<!-- Modal Unificado -->
@if (showModal) {
  <app-item-editor-modal
    [mode]="'filler'"
    [editMode]="modalEditMode"
    [itemToEdit]="modalItemToEdit"
    (itemCreated)="onItemCreated($event)"
    (modalClosed)="closeModal()"
  ></app-item-editor-modal>
}
