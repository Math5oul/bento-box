<div class="modal-overlay" *ngIf="isOpen" (click)="close()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <button class="close-button" (click)="close()">&times;</button>

    <div class="product-carousel">
      <div class="carousel-container">
        <div class="images-row" [style.transform]="'translateX(-' + (currentImageIndex * 100) + '%)'">
          <div class="image-wrapper" *ngFor="let image of images">
            <img [src]="image" [alt]="productName">
          </div>
        </div>
      </div>

      <div class="carousel-dots" *ngIf="images.length > 1">
        <button
          *ngFor="let image of images; let i = index"
          class="dot"
          [class.active]="i === currentImageIndex"
          (click)="currentImageIndex = i"
        ></button>
      </div>
    </div>

    <div class="product-info">
      <h2 class="product-name">{{ productName }}</h2>
      <p class="product-price">{{ price | currency:'BRL' }}</p>
      <p class="product-description">{{ description }}</p>

      <div class="quantity-selector">
        <button (click)="decrementQuantity()">-</button>
        <input type="number" [(ngModel)]="quantity" min="1">
        <button (click)="incrementQuantity()">+</button>
      </div>

      <div class="observations">
        <textarea
          [(ngModel)]="observations"
          placeholder="Adicione observações ao pedido..."
          rows="3"
        ></textarea>
      </div>

      <button class="submit-button" (click)="submitOrder()">
        Enviar Pedido
      </button>
    </div>
  </div>
</div>
