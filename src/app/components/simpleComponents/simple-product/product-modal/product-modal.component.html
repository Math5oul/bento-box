@if (isOpen) {
<div class="modal-back">
<div class="modal-overlay" (click)="close()">
  <div class="modal-content" (click)="$event.stopPropagation()">
    <button class="close-button" (click)="close()">&times;</button>

    <div class="product-carousel">
      <div class="carousel-container">
        <div
          class="images-row"
          [style.transform]="'translateX(-' + currentImageIndex * 100 + '%)'"
        >
          <div class="image-wrapper" *ngFor="let image of images">
            <img [src]="image" [alt]="productName" />
          </div>
        </div>
      </div>

      @if (images.length > 1) {
      <div class="carousel-dots">
        @for (image of images; track $index) {
        <button
          class="dot"
          [class.active]="$index === currentImageIndex"
          (click)="currentImageIndex = $index"
        ></button
        >}
      </div>
      }
    </div>

    <div class="product-info">
      <h2 class="product-name">{{ productName }}</h2>
      <p class="product-price">{{ price | currency : "BRL" }}</p>
      <p class="product-description">{{ description }}</p>

      <div class="quantity-selector">
        <button (click)="decrementQuantity()">-</button>
        <input type="number" [(ngModel)]="quantity" min="1" />
        <button (click)="incrementQuantity()">+</button>
      </div>

      <div class="observations">
        <textarea
          [(ngModel)]="observations"
          placeholder="Adicione observações ao pedido..."
          rows="3"
        ></textarea>
      </div>

      <button class="submit-button" (click)="submitOrder()">
        Enviar Pedido
      </button>
    </div>
  </div>
</div>
</div>
}
