<section class="header">
  <div class="shop-header">
    <img src="imgs/bento-logo.png" alt="Bento Logo" class="logo" />
    <input
      #searchInput
      type="text"
      class="search-bar"
      placeholder="Procurar..."
      (input)="onSearchInput(searchInput.value)"
    />

    @if (isAuthenticated) {
      <app-user-menu
        (openProfile)="onOpenProfile()"
        (openOrders)="onOpenOrders()"
        (openPayments)="onOpenPayments()"
        (openChangePassword)="onOpenChangePassword()"
        (openAdminPanel)="onOpenAdminPanel()"
      ></app-user-menu>
    } @else {
      <button class="login-button" (click)="toggleLogin()" title="Login"><span>ðŸ‘¤</span></button>
    }

    <button class="cart-toggle" (click)="toggleCart()">
      ðŸ›’
      <span class="cart-badge">{{ _cartService.getCurrentItems().length }}</span>
    </button>
  </div>
</section>
@if (isCartOpen) {
  <app-cart (closeCart)="toggleCart()"></app-cart>
}

@if (isLoginOpen) {
  <app-login-modal
    (close)="toggleLogin()"
    (loginSuccess)="onLoginSuccess($event)"
  ></app-login-modal>
}

@if (isAdminPanelOpen) {
  <app-admin-panel (close)="onCloseAdminPanel()"></app-admin-panel>
}

@if (isChangePasswordOpen) {
  <app-change-password-modal (close)="onCloseChangePassword()"></app-change-password-modal>
}

@if (isOrderHistoryOpen) {
  <app-order-history-modal (close)="onCloseOrderHistory()"></app-order-history-modal>
}
